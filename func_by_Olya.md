*CentralPark*

=========

Introdaction
============

    CentralPark є системою для користування парковками міста Львова. Користувачі мають змогу шукати та бронювати парковки, що їм найбільше підходять, або прокладати до них маршрут.

	Основною метою системи є реалізація дружнього механізму, який допоможе клієнтам перглянути паркові локації, зарезервувати доступні паркомісця(або заздалегідь або в момент паркування), а власникам локацій паркування отримати максимальний прибуток та потужно заповнені місця. А також створити можливість для інспекторів відповідних парковок контролювати процеси сервісу. 

*Опис проблеми*

	Паркування зараз один з найрозповсюдженіших сервісів, необхідних людині, оскільки власників автомобілів дедалі більшає. І стає особливо проблематичним в певний час знайти паркомісце. Також проблемою є можливість скупчення автомобілів, водії яких наполегливо шукають місце, куди б пристосуватись. 
	Одним з рішень такої проблеми може бути встановлення додаткового обладнання на місцях паркування(а це додаткові витрати). Але це не додасть оптимальності при виборі місця для паркування, а особливо в великих масштабах.  	
	Створення веб-аплікації такого спрямування дасть можливість забезпечити інформативність, комфорт, економію часу користувача, а також — спроможність контролювати резерв паркомісць, впорядкувати діяльність парковок, слідкувати за відповдністю замовлень та загальною ситуацією парковок.

	Система може використовуватись з трьох основних позицій: користувач, інспектор, адміністратор. 

*Типи користувачів:*
 - зареєстровані: мають можливість переглядати ситуацію паркковок, робити резерв, доступні різні тири оплати;
 - не зареєстровані: клієнти не мають змоги бронювання, не мають особистого рахунку, мають змогу лише оглянути карту парколокацій.

*Види бронювання:*
 - періодичне:  повторюється з певним періодом відносно певного часу;
 - підтверджене: одноразове бронювання на конкретний час.
Відносно часу резерву та паребування на паркостоянці, а також від часу доби може варіюватись ціна послуг.

*Паркування:*
 - зарезервоване: коли користувач прибуває на заплановане (зарезервоване) ним місце;
 - паркування on-time: коли користувач прибуває без попередніх застережень. Відповідно можливості місць для паркування будуть залежати від зарезервованих.

User Cases
==========

UC-1: (Користувач)

    Реєстрація користувача 
Мета: стати зареєстрованим клієнтом і зберегтися в базі даних клієнтів. 
Процес: користувач, що реєструється отримує запит на введення його облікових даних. Контролер передає інформацію про обліковий запис в модель, яка створює обліковий запис у базі даних. Після успішної реєстрації контролер повідомляє користувача.

UC-2: (Користувач)

	Резерв паркомісця
Мета: створити резерв паркомісця на відповідний час та додати його до БД;
Процес: Клієнту запропоновано ввести дані про бажаний резерв, тоді контролер передає інформацію в модель, яка перевіряє стан паркомісця. Відповідно видається результат про успіх запиту або прохання ввести повторно інформацію з іншими даними.

	Редагування резерву 
Мета: змінити або видалити існуючий резерв для зареєстрований користувач, або переглянути резерв для особистого інформуваня.
Процес: Зареєстрований клієнт або вибирає зміну кінцевого час резерву або вибирає опцію відмінити бронювання. Контролер приймає цю інформацію і потім передає його в моделі для перевірки та зробити зміни в базі даних. Відповідь - успішнна зміна.

	Редагування особистих даних.
Мета: дати можливість клієнтами власноруч оновлювати власні дані(наприклад електронну адресу чи телефон).
Процес: користувачу доступно поля для редагуваня, після внесених змін відбувається підтвердження, система перевіряє коректність та вносить зміни в БД.


UC-3: (Користувач)

	Перегляд карти паркомісць та цінових категорій
Мета: побачити можливі варіанти паркування та цінові категорії.
Процес: Зареєстрований користувач відправляє запит карти паркомісць та інформаці про них відносно конкретно вказаної місцевості. Можлива фільтрація отриманих результатів.

	Прокласти шлях до паркомісця
Мета: для недосвідчених водіїв та можливо туристів отримати правильні вказівки щодо пересування до паркомісця.
Процес: Користувач вносить дані про місце перебування і вказує конкретну кінцеву точку. Або ж має можливість отримати карту з усіма можлиаими напрямками руху відносно вказаних карт.

UC-4: (Інспектор)

	Перегляд резерву
Мета: Переглянути резерв зареєстрованих користувачів за певний період часу.
Процес: Зареєстрований користувач-інспектор обирає проміжок часу та відправляє запит. Модель витягує з БД відповідні записи і відправляє інспектору для перегляду.
 
UC-5: (Інспектор)

	Накладання штрафу
Мета: Внесення штрафних заходів при порушеннях.
Процес: Інспектор відправляє дані порушника. Модель передає дані для внесення змін в базі.

UC-6: (Адміністратор)

	Внесення змін про локації паркування, ціноутворення та перегляд ситуації паркувань
Мета: внести зміни для коректного інформування користувачів, керування станом, перегляд історії.
Процес: Адміністратор відправляє запит на зміну БД, спостерігає за резервами, їх коректністю. Додавання нових локацій, видалення старих. 
Якщо буде присутня можливість так званого кридитного користування парковкою, то в обовязки адміністратора входитиме формування місячних рахунків для користувачів, та їх інформуваня


+ Сценарії : As a … I want … So that ...

Як користувач я хочу отримати достовірну інформацію про місця паркування та мамати змогу їх оплати в момент прийняття рішення про вибір парковки. Тому система повинна бути повязана з платіжними системами онлайн.

Також як користувач, у випадках немаючи доступу до інтернету я хочу мати можливість резервації паркомісця через смс-повідомлення. Тому  веб-аплікації має мати звязок з смс-порталом і забезпечити такі випадки.

Як користувач, який зробив резерв, я хочу бути впевненим місце належатима мені. Відповідно система повинна мати змогу постійно слідкувати за парковками або динамічно отримувати оновлення в базу про розміщення машин та стан резервів.

Як інспектор я хочу отримувати точні дані про зайняті та зарезервовані місця, та відповідні дані клієнтів тих місць. Тому система повинна вести історію резервів та історію паркувань клієнтів для змоги контролю дотримання правил.

Як адміністратор я хочу постійно бачити зміни на паркувальних локаціях, щоб відповідно корегувати ціноутворення. Тому в веб-аплікації повинні інтрактивно взаємодіяти всі складові для отримання бажаного результату.    

System load
===========

За оцінками експертів станом на 2012 рік у м.Львові одночансо використовувалося близько 150 000 автомобілів (200авт/1000осіб) і згідно прогнозів їхня кількість повинна зрости до 300 авто на 1000 осіб, тобто до 300 000 до 2025 року.

Офіційно у Львові зареєстровано лише 50 000 паркомісць та гаражних приміщень. Це буде створювати моменти критичного навантаження при пошуку вільних паркомісць у певні періоди робочого дня.

Основними годинами пікового навантаження на систему можна виділити насупні години:

7:20-7:55 - час так званої "першої хвилі паркування", повязаної з початком робочого дня о 8 ранку;

8:20-8:55 - час перед почаком робочого дня з 9 години ранку;

9:30-14:30 - час основної діяльності комерціїйної діяльності, а також руху транспорту, пов'язаного з обідньою перервою

Якщо припустити, що з усієї кількості автомобілів кожного дня використовуються близько 100 тис, то розрахунки навантаження можна зробити наступні:

40 тис авто - парковка "першої хвилі"

60 тис авто - паркова на "другій хвилі"

Пікова навантаженість "першої хвилі" розраховується:

1-ша хвиля: 40 000авто / 2 100сек = 19 зап/сек

2-га хвиля: 60 000авто / 2 100сек = 29 зап/сек

Середня навантаженість системи протягом робочого дня:

Робочий день: 50 000авто / 18 000 = 3 зап/сек


Existing solutions
==================

    За останній час в світі розробники запропонували чимало онлайн систем паркуваня, що дозволяють громадянину добре спланувати свій час та витрати.

	В цьому розділі розглянемо деякі рішення.

	Перше рішення являє собою інтелектуальна система паркування Green Pparking's For you в Торонто. За допомогою цієї системи водій може отримати інформацію про розміщення зон паркування. Інформація подається у вигляді карти. В залежності від типу паркування (on-street or off-street) та від ціни послуги, карта кольорами розділена на умовні зони. Поряд з картою є інформація про точки надання сервісу, інформацію можна відсортувати по відстані чи ціні. Користувач може ввести свої координати або координати потрібної йому точки та переглянути всі можливі варіанти паркування. Реєстрації користувачів та резервування місць тут немає. Присутні три види оплати послуги: e-mail, банк та оплата особисто. Система також прив'язана до подій в місті. Вона надає інформацію про всі можливі місця паркування під час відповідної події (за адресою)

	В якості другого рішення розглянемо систему Panda Parking. Функціонально схожа система, в якій єдиними відмінностями є реєстрація і резервування. Ці функції дають певні привілегії для користувачів. Реєстрація власного обліково запису привязана до номеру мобільного телефону. Резервування полягає у вказанні власних даних, номер особистого рахунку та обраної локації. Оплата здійснюється через банківську карту або сума нараховується на ваш рахунок, і в кінці ви сплачуєте загальний платіж. Перегляд локацій на карті також дає точні дані про вільні місця та ціни.

	Оскільки системи паркування між собою дуже схожі, і їх будова крім зовнішнього інтерфейсу нічим не відрізняються, то розглянемо окрему систему резервації. Система Паркування - Бронювання являє собою додаток заснований на API для мережевих операторів. Система призначена для підтримки і управління процесом бронювання автостоянки. Система дозволяє зробити бронювання або, якщо бронювання здійснене, то зробити його скасування. Застосування визначає два види кінцевих користувачів. Один кінець мобільний користувач - що робить запит, другий це стоянка - обробка. Застосування веб аплікації мобільним користувачає накладає відповідальність за резерв стоянки. Перший запит відповідає за резервування парковки і містить * 665 * 0015 * 0 # USSD запит, другий запит - позиція відмінити бронювання і кодується як * 665 * 0015 * 1 #.Для виконання або відміни бронювання кінцевий користувач повинен викликати відповідні операції (USSD код) і відправити спеціальний запит USSD.


Integration
===========

	Реєстрація користувачів виконується через соціальні мережі. Серед них Приват24 та смс-повідомлення для оплати заброньованих парковочних місць, та Яндекс-карти для візуалізації знаходження парковок та обрахування маршруту.

Offline
=======

Абсолютна більшість автомобілів більшу частину свого експлуатаційного періоду проводять на стоянка. 
У Львові місця постійного та тимчасового зберігання авто можна розділити наступним чино: 1. Гаражні стоянки 2. Приватні парковки (з охороною) 3. Платні парковки з паркоматами (в розробці) 4. Міця стихійних парковок (парковки на тротуарах, під будинками, вздовж вулиці що дозволені ПДР) 5. Місця тимчасових стихійних парковок з порушенням ПДР.
Дана система повинна мати можливість слідкувати за другим і третім типом парковок. 
Легкові автомобілі діляться за своїми габаритами на класи (A, B, C, D, E, S, G та ін.). Крім того у Львові велику популярність мають мінібуси, які своїми розмірами часто дорівнюють машинам класу D, E, S (до 5 м. довжини і більше). 

Паркування автомобілів ділиться на два типи: 
паралельне (перепендикулярно до полоси руху) 
поздовжнє (паралельно полосі руху) 
Кількість парковочних місць для паралельного паркування зазвичай є чітко визначеною. Довжина пакрвовочного місця є достатньою для більшості машин, що попадають в розсіри класу A-S. Проблеми виникають лише з великогабаритними авто (мінібуси, автобуси).
Паралельне паркування здебільшого використовється на закритих парковках, парковках магазинів, супермаркетів, розважальних центрів. 
Згідно ДСТУ довжина паркомісця для поздовньої парковки повинна становити 7.5 м. Проте, враховуючи тенденції до збільшення навантаженості парковок, у багатьох країнах стандартний розмір паркувальних місць зменшуються і становить всередньому 6.5 м. що є дуже актуальним для Львова. Такі парковки використовуються здебільшого у випадках тимчасового паркування вздовж вулиць та на тротуарах. Вони тяжко піддаються регламентації без нанесення спеціальної розмітки. Проте саме вони є доступними для автомобілів, що перевищують своїми габаритами стандартні розміри. 
Процес паркування
Зараз процес паркування зводиться до вибору виду пакрковки (платної чи безоплатної). 

У випадку вибору безоплатної парковки процес зводиться до пошуку вільного паркомісця та паркування авто. Регулювання такого паркування обмежується виконанням правил ПДР які часто ігноруються. Ведення контролю за таким виконанням правил здійснює служба ДПС яка має можливість евакуації автомобіля на штрафмайдачик у випадку грубого порушення ДПР. Як показує практика, у звязку з складною ситуацією з паркомісцями у Львові ДПС вдається до таких дій лише при дуже грубих порушення ПДР які створють значні незручності для суспільства чи навіть становлять загозу. 

При виборі платної парковки водій керується інструкціями доглядача парковки та здійснює оплату за паркування безпосередньо на місці. Вїзд на таку парковку зазвичай регулюється спеціальними засобми, здебільшого шлагбаунами. 

Perspective
===========

	Однією майбутніх з цілей, які б допомогли клієнтам завжди знаходити те що потрібно, а власниками парколокацій взаємнодіяти між собою, і таким чином отримувати максимальні прибутки, це можливість пропонувати всі можливі варіанти і мати змогу перенаправляти клієнтів в сусідні локації.  Процес полягатиме в пошуку ближніх паркомісць, якщо всі місця на вказаній користувачем локації зайняті або цінова категорія надтор висока. Так звана альтернатива.
	Також зробити автоматичне зчитування інформації автомобіля (номерних знаків) і його розміщення на парковці (технічними засобами), щоб дані передавались на сервер, які створять карту правильності/неправильності паркування клієнтів, по якій інспектор матимен змогу динамічно контролювати паркування без додаткових запитів.

