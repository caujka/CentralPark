# CentralPark

## Загальний огляд
CentralPark є системою для користування парковками міста Львова. Користувачі мають змогу шукати та 
бронювати парковки, що їм найбільше підходять, або прокладати до них маршрут.

## Випадки використання

### Користувачі системи

*Іван* - водій великої вантажівки, йому треба привезти повний кузов важких вантажів, забрати будівельне сміття, тощо. Стати він хоче під саму точку.

*Марічка* - нещодавно стала водієм, живе на Сихові, та щодня їздить на роботу автівкою в центр. Машина стоїть під роботою весь день.

*Марк* - турист з Іспанії, українською не говорить, мандрує Україною на прокатному авті. Зупиняється максимум на 2 години.

*Назар* - водій зі стажем, не уявляє життя без своєї машини, і вважає, що дороги та парковки мають бути безкоштовними. Хитрить.

*Петро* - працівник дорожної служби, слідкує за правильністю паркування, звітує про порушників.

*Надія* - диспетчер дорожної служби, відповідає на дзвінки по гарячій лінії. Слідкує, щоб комп’ютер не начудив.


*Питання:*

* як знати, чи місце вільне?

* Як знати, чи стоянка саме цієї машини оплачена?

## Історії користувачів

* Як Марічка, я хочу заплатити за поставлену машину, щоб уникнути штрафу.
* Як Марічка, я хочу побачити цінову політику парковки, щоб оптимізувати видатки.
* Як Петро, я хочу подивитись які машини заплатили за це місце, щоб знати чи вони мають право тут стояти.
* Як адміністратор, я хочу привести систему в робочий стан з нуля, однією дією щоб уникнути помилок.
* Як Надія, я хочу бачити загальну картину по парковках, щоб надавати звіти міському голові.
* Як Надія, я хочу бачити історію використання парковки, щоб мати змогу планувати зміну ціни.
* Як Марк, я хочу знати ціни навколишніх парковок, щоб заощадити гроші.
* Як міський голова, я хочу встановлювати цінові політики на парковки, щоб впливати на їх навантаженість.
* Як Андрій, я хочу прокласти маршрут до точки призначення з урахуванням парковок, щоб зменшити час на пошук вільного місця.

## Навантаження системи

За оцінками експертів станом на 2012 рік у м.Львові одночансо використовувалося близько
***150 000*** автомобілів (***200авт/1000осіб***) і згідно прогнозів їхня кількість
повинна зрости до 300 авто на 1000 осіб, тобто до ***300 000*** до 2025 року. 

Офіційно у Львові зареєстровано лише ***50 000*** паркомісць та гаражних приміщень.
Це буде створювати моменти критичного навантаження при пошуку вільних паркомісць у
певні періоди робочого дня. 

Основними годинами пікового навантаження на систему можна виділити насупні години: 

- ***7:20-7:55*** - час так званої "першої хвилі паркування", повязаної з початком робочого дня о 8 ранку;

- ***8:20-8:55*** - час перед почаком робочого дня з 9 години ранку;  

- ***9:30-14:30*** - час основної діяльності комерціїйної діяльності, а також руху транспорту, пов'язаного з обідньою перервою

Якщо припустити, що з усієї кількості автомобілів кожного дня використовуються близько 100 тис, то розрахунки навантаження можна зробити наступні: 

- 40 тис авто - парковка "першої хвилі"

- 60 тис авто - паркова на "другій хвилі"

Пікова навантаженість "першої хвилі" розраховується: 

---

* 1-ша хвиля:  40 000авто / 2 100сек = ***19 зап/сек***



* 2-га хвиля:  60 000авто / 2 100сек = ***29 зап/сек***



Середня навантаженість системи протягом робочого дня: 

---

* Робочий день: 50 000авто / 18 000 =  ***3 зап/сек***
Існуючі рішення
=========

    За останній час в світі розробники запропонували чимало онлайн систем паркуваня, що дозволяють громадянину добре спланувати свій час та витрати.

В цьому розділі розглянемо деякі рішення.

Перше рішення являє собою інтелектуальна система паркування Green Pparking's For you в Торонто. За допомогою цієї системи водій може отримати інформацію про розміщення зон паркування. Інформація подається у вигляді карти. В залежності від типу паркування (on-street or off-street) та від ціни послуги, карта кольорами розділена на умовні зони. Поряд з картою є інформація про точки надання сервісу, інформацію можна відсортувати по відстані чи ціні. Користувач може ввести свої координати або координати потрібної йому точки та переглянути всі можливі варіанти паркування. Реєстрації користувачів та резервування місць тут немає. Присутні три види оплати послуги: e-mail, банк та оплата особисто. Система також прив'язана до подій в місті. Вона надає інформацію про всі можливі місця паркування під час відповідної події (за адресою)

В якості другого рішення розглянемо систему Panda Parking. Функціонально схожа система, в якій єдиними відмінностями є реєстрація і резервування. Ці функції дають певні привілегії для користувачів. Реєстрація власного обліково запису привязана до номеру мобільного телефону. Резервування полягає у вказанні власних даних, номер кредитної картки та обраної локації. Оплата здійснюється через банківську карту або сума нараховується на ваш рахунок, і в кінці ви сплачуєте загальний платіж. Перегляд локацій на карті також дає точні дані про вільні місця та ціни.

Оскільки системи паркування між собою дуже схожі, і їх будова крім зовнішнього інтерфейсу нічим не відрізняються, то розглянемо окрему систему резервації. 
Система Паркування - Бронювання являє собою додаток заснований на API для мережевих операторів. Система призначена для підтримки і управління процесом бронювання  автостоянки. Система дозволяє зробити бронювання або, якщо бронювання здійснене то зробити його скасування. Застосування визначає два види кінцевих користувачів. Один кінець мобільний користувач - що робить запит, другий це стоянка - обробка. Застосування веб аплікації мобільним користувачає накладає відповідальність за резерв стоянки. Перший запит відповідає за резервування парковки і містить * 665 * 0015 * 0 # USSD запит, другий запит - позиція відмінити бронювання і кодується як * 665 * 0015 * 1 #.Для виконання або відміни бронювання кінцевий
користувач повинен викликати відповідні операції (USSD код) і
відправити спеціальний запит USSD. 


## Інтеграція

Реєстрація користувачів виконується через соціальні мережі. Серед них Приват24 та смс-повідомлення 
для оплати заброньованих парковочних місць, та Яндекс-карти для візуалізації знаходження парковок 
та обрахування маршруту.

##Offline
======================
Види паркомісць
---
Абсолютна більшість автомобілів більшу частину свого експлуатаційного періоду проводять на стоянка. <br>

У Львові місця постійного та тимчасового зберігання авто можна розділити наступним чино: 
1. Гаражні стоянки
2. Приватні парковки (з охороною)
3. Платні парковки з паркоматами (в розробці)
4. Міця стихійних парковок (парковки на тротуарах, під будинками, вздовж вулиці що дозволені ПДР)
5. Місця тимчасових стихійних парковок з порушенням ПДР.

Дана система повинна мати можливість слідкувати за __другим__ і __третім__ типом парковок. <br>
Легкові автомобілі діляться за своїми габаритами на класи (A, B, C, D, E, S, G та ін.). Крім того у Львові велику популярність мають мінібуси, які своїми розмірами часто дорівнюють машинам класу D, E, S (до 5 м. довжини і більше). <br>
<br>
Паркування автомобілів ділиться на два типи: 
- **паралельне** (перепендикулярно до полоси руху)
- **поздовжнє** (паралельно полосі руху)

Кількість парковочних місць для паралельного паркування зазвичай є чітко визначеною. Довжина пакрвовочного місця є достатньою для більшості машин, що попадають в розсіри класу A-S. Проблеми виникають лише з великогабаритними авто (мінібуси, автобуси).  
Паралельне паркування здебільшого використовється на закритих парковках, парковках магазинів, супермаркетів, розважальних центрів. 
<br> Згідно ДСТУ довжина паркомісця для поздовньої парковки повинна становити 7.5 м. Проте, враховуючи тенденції до збільшення навантаженості парковок, у багатьох країнах стандартний розмір паркувальних місць зменшуються і становить всередньому 6.5 м. що є дуже актуальним для Львова. 
Такі парковки використовуються здебільшого у випадках тимчасового паркування вздовж вулиць та на тротуарах. Вони тяжко піддаються регламентації без нанесення спеціальної розмітки. Проте саме вони є доступними для автомобілів, що перевищують своїми габаритами стандартні розміри.
<br>
<br>
Процес паркування
---
Зараз процес паркування зводиться до вибору виду пакрковки (платної чи безоплатної). <br><br>
У випадку вибору безоплатної парковки процес зводиться до пошуку вільного паркомісця та паркування авто. Регулювання такого паркування обмежується виконанням правил ПДР які часто ігноруються. Ведення контролю за таким виконанням правил здійснює служба ДПС яка має можливість евакуації автомобіля на штрафмайдачик у випадку грубого порушення ДПР. Як показує практика, у звязку з складною ситуацією з паркомісцями у Львові ДПС вдається до таких дій лише при дуже грубих порушення ПДР які створють значні незручності для суспільства чи навіть становлять загозу. <br><br>
При виборі платної парковки водій керується інструкціями доглядача парковки та здійснює оплату за паркування безпосередньо на місці. Вїзд на таку парковку зазвичай регулюється спеціальними засобми, здебільшого шлагбаунами. 

